<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <title>analyze.js 測試頁</title>
</head>
<body>
  <h2>分析測試</h2>

  <button id="btnSingle">送出單人分析</button>
  <button id="btnDual">送出雙人分析</button>

  <pre id="output"></pre>

  <script>
    async function testSingle() {
      const res = await fetch("/api/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          mode: "single",
          aBeast: "青龍",
          aKin: "子孫",
          aBranch: "寅",
          context: "職場表現"
        })
      });
      const data = await res.json();
      document.getElementById("output").textContent = JSON.stringify(data, null, 2);
    }

    async function testDual() {
      const res = await fetch("/api/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          mode: "dual",
          aBeast: "青龍",
          aKin: "子孫",
          aBranch: "寅",
          bBeast: "朱雀",
          bKin: "父母",
          bBranch: "午",
          context: "合作專案"
        })
      });
      const data = await res.json();
      document.getElementById("output").textContent = JSON.stringify(data, null, 2);
    }

    document.getElementById("btnSingle").addEventListener("click", testSingle);
    document.getElementById("btnDual").addEventListener("click", testDual);
  </script>
</body>
</html>
